<!--************************************************************************
*  화면명: 비밀번호 찾기
*  작성일지: 1) 김기훈 (20190219) 최초작성
*  업무구분: 로그인 > 비밀번호 찾기
*  내용: 이메일, 아이디, 생년월일 입력을 통한 비밀번호 찾기
**************************************************************************-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <link rel="stylesheet" href="../css/jquery.mobile-1.4.5.css">
    <script src="../js/common.js"></script>
    <script src="../js/login.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <script language="JavaScript">


        /**
        * 내용 : 비밀번호 찾기
        **/
        function findPw(){

            var email = $('#email').val();
            var birth = $('#birth').val();
            var id = $('#id').val();

            if(email == null || email ==''){
                alert("이메일을 입력해주세요");
                return false;
            }

            if(id == null || id ==''){
                alert("아이디를 입력해주세요");
                return false;
            }

            if(birth == null || birth ==''){
                alert("생년월일을 입력해주세요 (ex)19920818)");
                return false;
            }

            var param = {"email" : email, "id" : id , "birth" : birth};

            navigate(param,"findPwd.json",successFindId);

        }

        /**
        * 내용 : findPw(비밀번호찾기) 함수의 navigate success 시 호출될 함수
        **/
        function successFindId(result){

            if(result.pwd != null){

               movePage("resultPw.html",result.pwd);

            }else{
                alert("입력된 정보가 일치하지 않습니다");
            }


        }
    </script>

    <style>
        #findIdDiv {background-color:white; padding:10% 10% 0 10%; height: 100%;}
        button.ui-btn {width: 49%; display: inline; !important}
    </style>
</head>

<body bgcolor="#E6E6FA">
<header data-role="header">
    <h1>비밀번호 찾기</h1>
</header>
<div id="findIdDiv" class="container">

    <div>
        <p>비밀번호 찾기를 위해 생년월일, 아이디, 가입시 등록한 이메일주소를 정확히 입력하여주시기 바랍니다.</p>
        <label for="email">이메일</label>
        <input type="text" name="email" id="email" value="" placeholder="이메일을 입력해주세요">
        <label for="id">아이디</label>
        <input type="text" name="id" id="id" value="" placeholder="아이디를 입력해주세요">
        <label for="birth">생년월일</label>
        <input type="text" name="birth" id="birth" value="" placeholder="ex)19920807">

    </div>
    <div id="loginBtn" onclick="event.cancelBubble = true;">
        <button class="ui-btn ui-corner-all" onclick="movePage('login.html')";>취소</button>
        <button class="ui-btn ui-corner-all" onclick="findPw();">확인</button>
    </div>

</div>

</body>
</html>