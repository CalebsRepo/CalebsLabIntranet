<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,target-densitydpi=medium-dpi">
    <!--    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>-->
    <script src="http://code.jquery.com/jquery-1.12.1.min.js"></script>
    <script src="../js/common.js"></script>
    <link rel="stylesheet" href="../css/jquery.mobile-1.4.5.css">
    <script src="../js/jquery.mobile-1.4.5.js"></script>

    <script language = "javascript">

    var ajaxResult="";
    var ajaxResult2="";

    function listSearch(){
        navigate2("employee.json", sucessFncMultiSndSample, errorFncMultiSndSample);
    }

    function nameSearch(){
        var employeeName= document.getElementById('nameWrite').value;
        var params = {
                employeeName : employeeName,
             };
        navigate(params, "employeeName.json", sucessFncMultiSndSample, errorFncMultiSndSample);
    }



    function sucessFncMultiSndSample(result) {
        console.log("sucessFncMultiSndSample>>>>>" + JSON.stringify(result));
        ajaxResult=JSON.stringify(result);
        ajaxResult2=JSON.parse(ajaxResult);

        for(var i=0;i<ajaxResult2.length;i++){
            console.log('******************************');
            console.log("사원이름:"+ajaxResult2[i].NAME);
            console.log("직급:"+ajaxResult2[i].GRADE);
            console.log("전화번호:"+ajaxResult2[i].HP_NUM);
            console.log("이메일:"+ajaxResult2[i].EMAIL);
            console.log('******************************');

        }
            document.getElementById('employee_name').innerHTML=ajaxResult2[0].NAME;
<!--            document.getElementById('employee_grade').innerHTML=ajaxResult2[0].GRADE;-->
            document.getElementById('employee_hp_num').innerHTML=ajaxResult2[0].HP_NUM;
            document.getElementById('employee_email').innerHTML=ajaxResult2[0].EMAIL;
    }


    function errorFncMultiSndSample(result) {
        console.log("errorFncMultiSndSample>>>>>>" + JSON.stringify(result));
    }
   </script>

    <style>
      table {
        width: 100%;
        border: 1px solid #444444;
        border-collapse: collapse;
      }
      th, td {
        border: 1px solid #444444;
      }
    </style>
</head>
<body>
<div class="content" data-role="content">
    <input tyle="text" id="nameWrite">
    <button id="nameSearch" onclick="javascript:nameSearch(); return false;">이름검색</button>
    <button id="listSearch" onclick="javascript:listSearch(); return false;">전체검색</button>
    <table>
        <tr>
            <th>이름</th>
<!--            <th>직급</th>-->
            <th>전화번호</th>
            <th>이메일</th>
        </tr>

        <tr>
            <td id="employee_name"></td>
<!--            <td id="employee_grade"></td>-->
            <td id="employee_hp_num"></td>
            <td id="employee_email"></td>

        </tr>

    </table>
</div>
</body>
</html>